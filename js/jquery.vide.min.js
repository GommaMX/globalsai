!function(a,b){'function'==typeof define&&define.amd?define(['jquery'],b):'object'==typeof exports?b(require('jquery')):b(a.jQuery)}(this,function(a){'use strict';function b(k){var l={},m,n,o,p,q,r,s;for(q=k.replace(/\s*:\s*/g,':').replace(/\s*,\s*/g,',').split(','),s=0,r=q.length;s<r&&(n=q[s],-1===n.search(/^(http|https|ftp):\/\//)&&-1!==n.search(':'));s++)m=n.indexOf(':'),o=n.substring(0,m),p=n.substring(m+1),p||(p=void 0),'string'==typeof p&&(p='true'===p||'false'!==p&&p),'string'==typeof p&&(p=isNaN(p)?p:+p),l[o]=p;return null==o&&null==p?k:l}function c(k){k=''+k;var l=k.split(/\s+/),m='50%',n='50%',o,p,q;for(q=0,o=l.length;q<o;q++)p=l[q],'left'===p?m='0%':'right'===p?m='100%':'top'===p?n='0%':'bottom'===p?n='100%':'center'===p?0===q?m='50%':n='50%':0===q?m=p:n=p;return{x:m,y:n}}function d(k,l){var m=function(){l(this.src)};a('<img src="'+k+'.gif">').on('load',m),a('<img src="'+k+'.jpg">').on('load',m),a('<img src="'+k+'.jpeg">').on('load',m),a('<img src="'+k+'.png">').on('load',m)}function f(k,l,m){if(this.$element=a(k),'string'==typeof l&&(l=b(l)),m?'string'==typeof m&&(m=b(m)):m={},'string'==typeof l)l=l.replace(/\.\w*$/,'');else if('object'==typeof l)for(var n in l)l.hasOwnProperty(n)&&(l[n]=l[n].replace(/\.\w*$/,''));this.settings=a.extend({},h,m),this.path=l;try{this.init()}catch(o){if(o.message!==j)throw o}}var g='vide',h={volume:1,playbackRate:1,muted:!0,loop:!0,autoplay:!0,position:'50% 50%',posterType:'detect',resizing:!0,bgColor:'transparent',className:''},j='Not implemented';f.prototype.init=function(){var k=this,l=k.path,m=l,n='',o=k.$element,p=k.settings,q=c(p.position),r=p.posterType,s,t;t=k.$wrapper=a('<div>').addClass(p.className).css({position:'absolute','z-index':-1,top:0,left:0,bottom:0,right:0,overflow:'hidden','-webkit-background-size':'cover','-moz-background-size':'cover','-o-background-size':'cover','background-size':'cover','background-color':p.bgColor,'background-repeat':'no-repeat','background-position':q.x+' '+q.y}),'object'==typeof l&&(l.poster?m=l.poster:l.mp4?m=l.mp4:l.webm?m=l.webm:l.ogv&&(m=l.ogv)),'detect'===r?d(m,function(u){t.css('background-image','url('+u+')')}):'none'!==r&&t.css('background-image','url('+m+'.'+r+')'),'static'===o.css('position')&&o.css('position','relative'),o.prepend(t),'object'==typeof l?(l.mp4&&(n+='<source src="'+l.mp4+'.mp4" type="video/mp4">'),l.webm&&(n+='<source src="'+l.webm+'.webm" type="video/webm">'),l.ogv&&(n+='<source src="'+l.ogv+'.ogv" type="video/ogg">'),s=k.$video=a('<video>'+n+'</video>')):s=k.$video=a('<video><source src="'+l+'.mp4" type="video/mp4"><source src="'+l+'.webm" type="video/webm"><source src="'+l+'.ogv" type="video/ogg"></video>');try{s.prop({autoplay:p.autoplay,loop:p.loop,volume:p.volume,muted:p.muted,defaultMuted:p.muted,playbackRate:p.playbackRate,defaultPlaybackRate:p.playbackRate})}catch(u){throw new Error(j)}s.css({margin:'auto',position:'absolute','z-index':-1,top:q.y,left:q.x,'-webkit-transform':'translate(-'+q.x+', -'+q.y+')','-ms-transform':'translate(-'+q.x+', -'+q.y+')','-moz-transform':'translate(-'+q.x+', -'+q.y+')',transform:'translate(-'+q.x+', -'+q.y+')',visibility:'hidden',opacity:0}).one('canplaythrough.'+g,function(){k.resize()}).one('playing.'+g,function(){s.css({visibility:'visible',opacity:1}),t.css('background-image','none')}),o.on('resize.'+g,function(){p.resizing&&k.resize()}),t.append(s)},f.prototype.getVideoObject=function(){return this.$video[0]},f.prototype.resize=function(){if(this.$video){var k=this.$wrapper,l=this.$video,m=l[0],n=m.videoHeight,o=m.videoWidth,p=k.height(),q=k.width();q/o>p/n?l.css({width:q+2,height:'auto'}):l.css({width:'auto',height:p+2})}},f.prototype.destroy=function(){delete a[g].lookup[this.index],this.$video&&this.$video.off(g),this.$element.off(g).removeData(g),this.$wrapper.remove()},a[g]={lookup:[]},a.fn[g]=function(k,l){var m;return this.each(function(){m=a.data(this,g),m&&m.destroy(),m=new f(this,k,l),m.index=a[g].lookup.push(m)-1,a.data(this,g,m)}),this},a(document).ready(function(){var k=a(window);k.on('resize.'+g,function(){for(var n,l=a[g].lookup.length,m=0;m<l;m++)n=a[g].lookup[m],n&&n.settings.resizing&&n.resize()}),k.on('unload.'+g,function(){return!1}),a(document).find('[data-'+g+'-bg]').each(function(l,m){var n=a(m),o=n.data(g+'-options'),p=n.data(g+'-bg');n[g](p,o)})})});